{"ast":null,"code":"import { GETURL } from '../Constants';\nexport class MediaService {}\n\nMediaService.arrToObject = arr => {\n  //assuming header\n  var keys = arr[0]; //vacate keys from main array\n\n  var newArr = arr.slice(1, arr.length);\n  var formatted = [],\n      data = newArr,\n      cols = keys,\n      l = cols.length;\n\n  for (var i = 0; i < data.length; i++) {\n    var d = data[i],\n        o = {};\n\n    for (var j = 0; j < l; j++) o[cols[j]] = d[j];\n\n    formatted.push(o);\n  }\n\n  return formatted;\n};\n\nMediaService.getVideoInformation = () => {\n  console.log(GETURL + \"/getvideo\");\n  var promise = fetch(GETURL + \"/getvideo\").then(result => {\n    return result.json().then(result => {\n      return MediaService.arrToObject(result);\n    }).catch(err => {\n      console.log(err);\n      throw err;\n    });\n  }).catch(err => {\n    console.log(err);\n    throw err;\n  });\n  return promise;\n};","map":{"version":3,"sources":["/home/landonrepp/Desktop/Cecil Reborn/Client/Cecil/src/services/MediaService.ts"],"names":["GETURL","MediaService","arrToObject","arr","keys","newArr","slice","length","formatted","data","cols","l","i","d","o","j","push","getVideoInformation","console","log","promise","fetch","then","result","json","catch","err"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,cAArB;AACA,OAAO,MAAMC,YAAN,CAAmB;;AAAbA,Y,CAEFC,W,GAAmBC,GAAD,IAAe;AACpC;AACA,MAAIC,IAAI,GAAGD,GAAG,CAAC,CAAD,CAAd,CAFoC,CAGpC;;AACA,MAAIE,MAAM,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,EAAaH,GAAG,CAACI,MAAjB,CAAb;AAEA,MAAIC,SAAS,GAAG,EAAhB;AAAA,MACAC,IAAI,GAAGJ,MADP;AAAA,MAEAK,IAAI,GAAGN,IAFP;AAAA,MAGAO,CAAC,GAAGD,IAAI,CAACH,MAHT;;AAIA,OAAK,IAAIK,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACH,IAAI,CAACF,MAArB,EAA6BK,CAAC,EAA9B,EAAkC;AAC1B,QAAIC,CAAC,GAAGJ,IAAI,CAACG,CAAD,CAAZ;AAAA,QACQE,CAAK,GAAG,EADhB;;AAEA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACJ,CAAhB,EAAmBI,CAAC,EAApB,EACQD,CAAC,CAACJ,IAAI,CAACK,CAAD,CAAL,CAAD,GAAaF,CAAC,CAACE,CAAD,CAAd;;AACRP,IAAAA,SAAS,CAACQ,IAAV,CAAeF,CAAf;AACP;;AACD,SAAON,SAAP;AACH,C;;AApBQP,Y,CAsBFgB,mB,GAAiC,MAAI;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYnB,MAAM,GAAC,WAAnB;AACA,MAAIoB,OAAO,GAAGC,KAAK,CAACrB,MAAM,GAAC,WAAR,CAAL,CACbsB,IADa,CACPC,MAAD,IAAU;AACZ,WAAOA,MAAM,CAACC,IAAP,GACNF,IADM,CACDC,MAAM,IAAE;AACV,aAAOtB,YAAY,CAACC,WAAb,CAAyBqB,MAAzB,CAAP;AACH,KAHM,EAINE,KAJM,CAIAC,GAAG,IAAE;AACRR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACA,YAAMA,GAAN;AACH,KAPM,CAAP;AAQH,GAVa,EAWbD,KAXa,CAWNC,GAAD,IAAO;AACVR,IAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACA,UAAMA,GAAN;AACH,GAda,CAAd;AAeA,SAAON,OAAP;AACH,C","sourcesContent":["import {GETURL} from '../Constants'\nexport class MediaService {\n    //convert 2d arrray created by csv file/ sql table into json object\n    static arrToObject:any = (arr:any[][])=>{\n        //assuming header\n        var keys = arr[0];\n        //vacate keys from main array\n        var newArr = arr.slice(1, arr.length);\n    \n        var formatted = [],\n        data = newArr,\n        cols = keys,\n        l = cols.length;\n        for (var i=0; i<data.length; i++) {\n                var d = data[i],\n                        o:any = {};\n                for (var j=0; j<l; j++)\n                        o[cols[j]] = d[j];\n                formatted.push(o);\n        }\n        return formatted;\n    }\n\n    static getVideoInformation: () => any = ()=>{\n        console.log(GETURL+\"/getvideo\");\n        var promise = fetch(GETURL+\"/getvideo\")\n        .then((result)=>{\n            return result.json()\n            .then(result=>{\n                return MediaService.arrToObject(result);\n            })\n            .catch(err=>{\n                console.log(err);\n                throw err;\n            })\n        })\n        .catch((err)=>{\n            console.log(err);\n            throw err;\n        })\n        return promise;\n    }\n\n}"]},"metadata":{},"sourceType":"module"}