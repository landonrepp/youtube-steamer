{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { w as writeTask } from './core-80bde1aa.js';\nimport { b as LIFECYCLE_WILL_LEAVE, L as LIFECYCLE_WILL_ENTER, a as LIFECYCLE_DID_ENTER, c as LIFECYCLE_DID_LEAVE } from './constants-3c3e1099.js';\n\nvar iosTransitionAnimation = function iosTransitionAnimation() {\n  return import('./ios.transition-1850e475.js');\n};\n\nvar mdTransitionAnimation = function mdTransitionAnimation() {\n  return import('./md.transition-083fcf52.js');\n};\n\nvar transition = function transition(opts) {\n  return new Promise(function (resolve, reject) {\n    writeTask(function () {\n      beforeTransition(opts);\n      runTransition(opts).then(function (result) {\n        if (result.animation) {\n          result.animation.destroy();\n        }\n\n        afterTransition(opts);\n        resolve(result);\n      }, function (error) {\n        afterTransition(opts);\n        reject(error);\n      });\n    });\n  });\n};\n\nvar beforeTransition = function beforeTransition(opts) {\n  var enteringEl = opts.enteringEl;\n  var leavingEl = opts.leavingEl;\n  setZIndex(enteringEl, leavingEl, opts.direction);\n\n  if (opts.showGoBack) {\n    enteringEl.classList.add('can-go-back');\n  } else {\n    enteringEl.classList.remove('can-go-back');\n  }\n\n  setPageHidden(enteringEl, false);\n\n  if (leavingEl) {\n    setPageHidden(leavingEl, false);\n  }\n};\n\nvar runTransition = function runTransition(opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , getAnimationBuilder(opts)];\n\n        case 1:\n          animationBuilder = _a.sent();\n          ani = animationBuilder ? animation(animationBuilder, opts) : noAnimation(opts);\n          return [2\n          /*return*/\n          , ani];\n      }\n    });\n  });\n};\n\nvar afterTransition = function afterTransition(opts) {\n  var enteringEl = opts.enteringEl;\n  var leavingEl = opts.leavingEl;\n  enteringEl.classList.remove('ion-page-invisible');\n\n  if (leavingEl !== undefined) {\n    leavingEl.classList.remove('ion-page-invisible');\n  }\n};\n\nvar getAnimationBuilder = function getAnimationBuilder(opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n            return [2\n            /*return*/\n            , undefined];\n          }\n\n          if (opts.animationBuilder) {\n            return [2\n            /*return*/\n            , opts.animationBuilder];\n          }\n\n          if (!(opts.mode === 'ios')) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , iosTransitionAnimation()];\n\n        case 1:\n          _a = _b.sent().iosTransitionAnimation;\n          return [3\n          /*break*/\n          , 4];\n\n        case 2:\n          return [4\n          /*yield*/\n          , mdTransitionAnimation()];\n\n        case 3:\n          _a = _b.sent().mdTransitionAnimation;\n          _b.label = 4;\n\n        case 4:\n          getAnimation = _a;\n          return [2\n          /*return*/\n          , getAnimation];\n      }\n    });\n  });\n};\n\nvar animation = function animation(animationBuilder, opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var trans, didComplete;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , waitForReady(opts, true)];\n\n        case 1:\n          _a.sent();\n\n          trans = animationBuilder(opts.baseEl, opts);\n          fireWillEvents(opts.enteringEl, opts.leavingEl);\n          return [4\n          /*yield*/\n          , playTransition(trans, opts)];\n\n        case 2:\n          didComplete = _a.sent();\n\n          if (opts.progressCallback) {\n            opts.progressCallback(undefined);\n          }\n\n          if (didComplete) {\n            fireDidEvents(opts.enteringEl, opts.leavingEl);\n          }\n\n          return [2\n          /*return*/\n          , {\n            hasCompleted: didComplete,\n            animation: trans\n          }];\n      }\n    });\n  });\n};\n\nvar noAnimation = function noAnimation(opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          enteringEl = opts.enteringEl;\n          leavingEl = opts.leavingEl;\n          return [4\n          /*yield*/\n          , waitForReady(opts, false)];\n\n        case 1:\n          _a.sent();\n\n          fireWillEvents(enteringEl, leavingEl);\n          fireDidEvents(enteringEl, leavingEl);\n          return [2\n          /*return*/\n          , {\n            hasCompleted: true\n          }];\n      }\n    });\n  });\n};\n\nvar waitForReady = function waitForReady(opts, defaultDeep) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n          promises = deep ? [deepReady(opts.enteringEl), deepReady(opts.leavingEl)] : [shallowReady(opts.enteringEl), shallowReady(opts.leavingEl)];\n          return [4\n          /*yield*/\n          , Promise.all(promises)];\n\n        case 1:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n\n        case 2:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar notifyViewReady = function notifyViewReady(viewIsReady, enteringEl) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!viewIsReady) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , viewIsReady(enteringEl)];\n\n        case 1:\n          _a.sent();\n\n          _a.label = 2;\n\n        case 2:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar playTransition = function playTransition(trans, opts) {\n  var progressCallback = opts.progressCallback;\n  var promise = new Promise(function (resolve) {\n    trans.onFinish(function (currentStep) {\n      return resolve(currentStep === 1);\n    });\n  }); // cool, let's do this, start the transition\n\n  if (progressCallback) {\n    // this is a swipe to go back, just get the transition progress ready\n    // kick off the swipe animation start\n    trans.progressStart(true);\n    progressCallback(trans);\n  } else {\n    // only the top level transition should actually start \"play\"\n    // kick it off and let it play through\n    // ******** DOM WRITE ****************\n    trans.play();\n  } // create a callback for when the animation is done\n\n\n  return promise;\n};\n\nvar fireWillEvents = function fireWillEvents(enteringEl, leavingEl) {\n  lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n  lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\n\nvar fireDidEvents = function fireDidEvents(enteringEl, leavingEl) {\n  lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n  lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\n\nvar lifecycle = function lifecycle(el, eventName) {\n  if (el) {\n    var ev = new CustomEvent(eventName, {\n      bubbles: false,\n      cancelable: false\n    });\n    el.dispatchEvent(ev);\n  }\n};\n\nvar shallowReady = function shallowReady(el) {\n  if (el && el.componentOnReady) {\n    return el.componentOnReady();\n  }\n\n  return Promise.resolve();\n};\n\nvar deepReady = function deepReady(el) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          element = el;\n          if (!element) return [3\n          /*break*/\n          , 4];\n          if (!(element.componentOnReady != null)) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , element.componentOnReady()];\n\n        case 1:\n          stencilEl = _a.sent();\n\n          if (stencilEl != null) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 2;\n\n        case 2:\n          return [4\n          /*yield*/\n          , Promise.all(Array.from(element.children).map(deepReady))];\n\n        case 3:\n          _a.sent();\n\n          _a.label = 4;\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar setPageHidden = function setPageHidden(el, hidden) {\n  if (hidden) {\n    el.setAttribute('aria-hidden', 'true');\n    el.classList.add('ion-page-hidden');\n  } else {\n    el.hidden = false;\n    el.removeAttribute('aria-hidden');\n    el.classList.remove('ion-page-hidden');\n  }\n};\n\nvar setZIndex = function setZIndex(enteringEl, leavingEl, direction) {\n  if (enteringEl !== undefined) {\n    enteringEl.style.zIndex = direction === 'back' ? '99' : '101';\n  }\n\n  if (leavingEl !== undefined) {\n    leavingEl.style.zIndex = '100';\n  }\n};\n\nvar getIonPageElement = function getIonPageElement(element) {\n  if (element.classList.contains('ion-page')) {\n    return element;\n  }\n\n  var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n\n  if (ionPage) {\n    return ionPage;\n  } // idk, return the original element so at least something animates and we don't have a null pointer\n\n\n  return element;\n};\n\nexport { deepReady as d, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };","map":{"version":3,"sources":["/home/landonrepp/Desktop/youtube-steamer/Client/IonicApp/node_modules/@ionic/core/dist/esm-es5/index-3528f139.js"],"names":["__awaiter","__generator","w","writeTask","b","LIFECYCLE_WILL_LEAVE","L","LIFECYCLE_WILL_ENTER","a","LIFECYCLE_DID_ENTER","c","LIFECYCLE_DID_LEAVE","iosTransitionAnimation","mdTransitionAnimation","transition","opts","Promise","resolve","reject","beforeTransition","runTransition","then","result","animation","destroy","afterTransition","error","enteringEl","leavingEl","setZIndex","direction","showGoBack","classList","add","remove","setPageHidden","animationBuilder","ani","_a","label","getAnimationBuilder","sent","noAnimation","undefined","getAnimation","_b","animated","duration","mode","trans","didComplete","waitForReady","baseEl","fireWillEvents","playTransition","progressCallback","fireDidEvents","hasCompleted","defaultDeep","deep","promises","deepWait","deepReady","shallowReady","all","notifyViewReady","viewIsReady","promise","onFinish","currentStep","progressStart","play","lifecycle","el","eventName","ev","CustomEvent","bubbles","cancelable","dispatchEvent","componentOnReady","element","stencilEl","Array","from","children","map","hidden","setAttribute","removeAttribute","style","zIndex","getIonPageElement","contains","ionPage","querySelector","d","g","l","s","t"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,OAAvC;AACA,SAASC,CAAC,IAAIC,SAAd,QAA+B,oBAA/B;AACA,SAASC,CAAC,IAAIC,oBAAd,EAAoCC,CAAC,IAAIC,oBAAzC,EAA+DC,CAAC,IAAIC,mBAApE,EAAyFC,CAAC,IAAIC,mBAA9F,QAAyH,yBAAzH;;AACA,IAAIC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAY;AAAE,SAAO,OAAO,8BAAP,CAAP;AAAgD,CAA3F;;AACA,IAAIC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAY;AAAE,SAAO,OAAO,6BAAP,CAAP;AAA+C,CAAzF;;AACA,IAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,IAAV,EAAgB;AAC7B,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1Cf,IAAAA,SAAS,CAAC,YAAY;AAClBgB,MAAAA,gBAAgB,CAACJ,IAAD,CAAhB;AACAK,MAAAA,aAAa,CAACL,IAAD,CAAb,CAAoBM,IAApB,CAAyB,UAAUC,MAAV,EAAkB;AACvC,YAAIA,MAAM,CAACC,SAAX,EAAsB;AAClBD,UAAAA,MAAM,CAACC,SAAP,CAAiBC,OAAjB;AACH;;AACDC,QAAAA,eAAe,CAACV,IAAD,CAAf;AACAE,QAAAA,OAAO,CAACK,MAAD,CAAP;AACH,OAND,EAMG,UAAUI,KAAV,EAAiB;AAChBD,QAAAA,eAAe,CAACV,IAAD,CAAf;AACAG,QAAAA,MAAM,CAACQ,KAAD,CAAN;AACH,OATD;AAUH,KAZQ,CAAT;AAaH,GAdM,CAAP;AAeH,CAhBD;;AAiBA,IAAIP,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUJ,IAAV,EAAgB;AACnC,MAAIY,UAAU,GAAGZ,IAAI,CAACY,UAAtB;AACA,MAAIC,SAAS,GAAGb,IAAI,CAACa,SAArB;AACAC,EAAAA,SAAS,CAACF,UAAD,EAAaC,SAAb,EAAwBb,IAAI,CAACe,SAA7B,CAAT;;AACA,MAAIf,IAAI,CAACgB,UAAT,EAAqB;AACjBJ,IAAAA,UAAU,CAACK,SAAX,CAAqBC,GAArB,CAAyB,aAAzB;AACH,GAFD,MAGK;AACDN,IAAAA,UAAU,CAACK,SAAX,CAAqBE,MAArB,CAA4B,aAA5B;AACH;;AACDC,EAAAA,aAAa,CAACR,UAAD,EAAa,KAAb,CAAb;;AACA,MAAIC,SAAJ,EAAe;AACXO,IAAAA,aAAa,CAACP,SAAD,EAAY,KAAZ,CAAb;AACH;AACJ,CAdD;;AAeA,IAAIR,aAAa,GAAG,SAAhBA,aAAgB,CAAUL,IAAV,EAAgB;AAAE,SAAOf,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACvF,QAAIoC,gBAAJ,EAAsBC,GAAtB;AACA,WAAOpC,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcC,mBAAmB,CAACzB,IAAD,CAAjC,CAAP;;AACR,aAAK,CAAL;AACIqB,UAAAA,gBAAgB,GAAGE,EAAE,CAACG,IAAH,EAAnB;AACAJ,UAAAA,GAAG,GAAID,gBAAD,GACAb,SAAS,CAACa,gBAAD,EAAmBrB,IAAnB,CADT,GAEA2B,WAAW,CAAC3B,IAAD,CAFjB;AAGA,iBAAO,CAAC;AAAE;AAAH,YAAesB,GAAf,CAAP;AAPR;AASH,KAViB,CAAlB;AAWH,GAbqD,CAAhB;AAajC,CAbL;;AAcA,IAAIZ,eAAe,GAAG,SAAlBA,eAAkB,CAAUV,IAAV,EAAgB;AAClC,MAAIY,UAAU,GAAGZ,IAAI,CAACY,UAAtB;AACA,MAAIC,SAAS,GAAGb,IAAI,CAACa,SAArB;AACAD,EAAAA,UAAU,CAACK,SAAX,CAAqBE,MAArB,CAA4B,oBAA5B;;AACA,MAAIN,SAAS,KAAKe,SAAlB,EAA6B;AACzBf,IAAAA,SAAS,CAACI,SAAV,CAAoBE,MAApB,CAA2B,oBAA3B;AACH;AACJ,CAPD;;AAQA,IAAIM,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAUzB,IAAV,EAAgB;AAAE,SAAOf,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC7F,QAAI4C,YAAJ,EAAkBN,EAAlB;;AACA,WAAOrC,WAAW,CAAC,IAAD,EAAO,UAAU4C,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACN,KAAX;AACI,aAAK,CAAL;AACI,cAAI,CAACxB,IAAI,CAACa,SAAN,IAAmB,CAACb,IAAI,CAAC+B,QAAzB,IAAqC/B,IAAI,CAACgC,QAAL,KAAkB,CAA3D,EAA8D;AAC1D,mBAAO,CAAC;AAAE;AAAH,cAAeJ,SAAf,CAAP;AACH;;AACD,cAAI5B,IAAI,CAACqB,gBAAT,EAA2B;AACvB,mBAAO,CAAC;AAAE;AAAH,cAAerB,IAAI,CAACqB,gBAApB,CAAP;AACH;;AACD,cAAI,EAAErB,IAAI,CAACiC,IAAL,KAAc,KAAhB,CAAJ,EAA4B,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAC5B,iBAAO,CAAC;AAAE;AAAH,YAAcpC,sBAAsB,EAApC,CAAP;;AACJ,aAAK,CAAL;AACI0B,UAAAA,EAAE,GAAIO,EAAE,CAACJ,IAAH,EAAD,CAAY7B,sBAAjB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcC,qBAAqB,EAAnC,CAAP;;AACR,aAAK,CAAL;AACIyB,UAAAA,EAAE,GAAIO,EAAE,CAACJ,IAAH,EAAD,CAAY5B,qBAAjB;AACAgC,UAAAA,EAAE,CAACN,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AACIK,UAAAA,YAAY,GAAGN,EAAf;AACA,iBAAO,CAAC;AAAE;AAAH,YAAeM,YAAf,CAAP;AAnBR;AAqBH,KAtBiB,CAAlB;AAuBH,GAzB2D,CAAhB;AAyBvC,CAzBL;;AA0BA,IAAIrB,SAAS,GAAG,SAAZA,SAAY,CAAUa,gBAAV,EAA4BrB,IAA5B,EAAkC;AAAE,SAAOf,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACrG,QAAIiD,KAAJ,EAAWC,WAAX;AACA,WAAOjD,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcY,YAAY,CAACpC,IAAD,EAAO,IAAP,CAA1B,CAAP;;AACR,aAAK,CAAL;AACIuB,UAAAA,EAAE,CAACG,IAAH;;AACAQ,UAAAA,KAAK,GAAGb,gBAAgB,CAACrB,IAAI,CAACqC,MAAN,EAAcrC,IAAd,CAAxB;AACAsC,UAAAA,cAAc,CAACtC,IAAI,CAACY,UAAN,EAAkBZ,IAAI,CAACa,SAAvB,CAAd;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc0B,cAAc,CAACL,KAAD,EAAQlC,IAAR,CAA5B,CAAP;;AACJ,aAAK,CAAL;AACImC,UAAAA,WAAW,GAAGZ,EAAE,CAACG,IAAH,EAAd;;AACA,cAAI1B,IAAI,CAACwC,gBAAT,EAA2B;AACvBxC,YAAAA,IAAI,CAACwC,gBAAL,CAAsBZ,SAAtB;AACH;;AACD,cAAIO,WAAJ,EAAiB;AACbM,YAAAA,aAAa,CAACzC,IAAI,CAACY,UAAN,EAAkBZ,IAAI,CAACa,SAAvB,CAAb;AACH;;AACD,iBAAO,CAAC;AAAE;AAAH,YAAe;AACd6B,YAAAA,YAAY,EAAEP,WADA;AAEd3B,YAAAA,SAAS,EAAE0B;AAFG,WAAf,CAAP;AAfR;AAoBH,KArBiB,CAAlB;AAsBH,GAxBmE,CAAhB;AAwB/C,CAxBL;;AAyBA,IAAIP,WAAW,GAAG,SAAdA,WAAc,CAAU3B,IAAV,EAAgB;AAAE,SAAOf,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACrF,QAAI2B,UAAJ,EAAgBC,SAAhB;AACA,WAAO3B,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AACIZ,UAAAA,UAAU,GAAGZ,IAAI,CAACY,UAAlB;AACAC,UAAAA,SAAS,GAAGb,IAAI,CAACa,SAAjB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcuB,YAAY,CAACpC,IAAD,EAAO,KAAP,CAA1B,CAAP;;AACJ,aAAK,CAAL;AACIuB,UAAAA,EAAE,CAACG,IAAH;;AACAY,UAAAA,cAAc,CAAC1B,UAAD,EAAaC,SAAb,CAAd;AACA4B,UAAAA,aAAa,CAAC7B,UAAD,EAAaC,SAAb,CAAb;AACA,iBAAO,CAAC;AAAE;AAAH,YAAe;AACd6B,YAAAA,YAAY,EAAE;AADA,WAAf,CAAP;AATR;AAaH,KAdiB,CAAlB;AAeH,GAjBmD,CAAhB;AAiB/B,CAjBL;;AAkBA,IAAIN,YAAY,GAAG,SAAfA,YAAe,CAAUpC,IAAV,EAAgB2C,WAAhB,EAA6B;AAAE,SAAO1D,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACnG,QAAI2D,IAAJ,EAAUC,QAAV;AACA,WAAO3D,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AACIoB,UAAAA,IAAI,GAAG5C,IAAI,CAAC8C,QAAL,KAAkBlB,SAAlB,GAA8B5B,IAAI,CAAC8C,QAAnC,GAA8CH,WAArD;AACAE,UAAAA,QAAQ,GAAGD,IAAI,GAAG,CACdG,SAAS,CAAC/C,IAAI,CAACY,UAAN,CADK,EAEdmC,SAAS,CAAC/C,IAAI,CAACa,SAAN,CAFK,CAAH,GAGX,CACAmC,YAAY,CAAChD,IAAI,CAACY,UAAN,CADZ,EAEAoC,YAAY,CAAChD,IAAI,CAACa,SAAN,CAFZ,CAHJ;AAOA,iBAAO,CAAC;AAAE;AAAH,YAAcZ,OAAO,CAACgD,GAAR,CAAYJ,QAAZ,CAAd,CAAP;;AACJ,aAAK,CAAL;AACItB,UAAAA,EAAE,CAACG,IAAH;;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcwB,eAAe,CAAClD,IAAI,CAACmD,WAAN,EAAmBnD,IAAI,CAACY,UAAxB,CAA7B,CAAP;;AACJ,aAAK,CAAL;AACIW,UAAAA,EAAE,CAACG,IAAH;;AACA,iBAAO,CAAC;AAAE;AAAH,WAAP;AAhBR;AAkBH,KAnBiB,CAAlB;AAoBH,GAtBiE,CAAhB;AAsB7C,CAtBL;;AAuBA,IAAIwB,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,WAAV,EAAuBvC,UAAvB,EAAmC;AAAE,SAAO3B,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC5G,WAAOC,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AACI,cAAI,CAAC2B,WAAL,EAAkB,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAClB,iBAAO,CAAC;AAAE;AAAH,YAAcA,WAAW,CAACvC,UAAD,CAAzB,CAAP;;AACJ,aAAK,CAAL;AACIW,UAAAA,EAAE,CAACG,IAAH;;AACAH,UAAAA,EAAE,CAACC,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,WAAP;AAPZ;AASH,KAViB,CAAlB;AAWH,GAZ0E,CAAhB;AAYtD,CAZL;;AAaA,IAAIe,cAAc,GAAG,SAAjBA,cAAiB,CAAUL,KAAV,EAAiBlC,IAAjB,EAAuB;AACxC,MAAIwC,gBAAgB,GAAGxC,IAAI,CAACwC,gBAA5B;AACA,MAAIY,OAAO,GAAG,IAAInD,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACzCgC,IAAAA,KAAK,CAACmB,QAAN,CAAe,UAAUC,WAAV,EAAuB;AAAE,aAAOpD,OAAO,CAACoD,WAAW,KAAK,CAAjB,CAAd;AAAoC,KAA5E;AACH,GAFa,CAAd,CAFwC,CAKxC;;AACA,MAAId,gBAAJ,EAAsB;AAClB;AACA;AACAN,IAAAA,KAAK,CAACqB,aAAN,CAAoB,IAApB;AACAf,IAAAA,gBAAgB,CAACN,KAAD,CAAhB;AACH,GALD,MAMK;AACD;AACA;AACA;AACAA,IAAAA,KAAK,CAACsB,IAAN;AACH,GAjBuC,CAkBxC;;;AACA,SAAOJ,OAAP;AACH,CApBD;;AAqBA,IAAId,cAAc,GAAG,SAAjBA,cAAiB,CAAU1B,UAAV,EAAsBC,SAAtB,EAAiC;AAClD4C,EAAAA,SAAS,CAAC5C,SAAD,EAAYvB,oBAAZ,CAAT;AACAmE,EAAAA,SAAS,CAAC7C,UAAD,EAAapB,oBAAb,CAAT;AACH,CAHD;;AAIA,IAAIiD,aAAa,GAAG,SAAhBA,aAAgB,CAAU7B,UAAV,EAAsBC,SAAtB,EAAiC;AACjD4C,EAAAA,SAAS,CAAC7C,UAAD,EAAalB,mBAAb,CAAT;AACA+D,EAAAA,SAAS,CAAC5C,SAAD,EAAYjB,mBAAZ,CAAT;AACH,CAHD;;AAIA,IAAI6D,SAAS,GAAG,SAAZA,SAAY,CAAUC,EAAV,EAAcC,SAAd,EAAyB;AACrC,MAAID,EAAJ,EAAQ;AACJ,QAAIE,EAAE,GAAG,IAAIC,WAAJ,CAAgBF,SAAhB,EAA2B;AAChCG,MAAAA,OAAO,EAAE,KADuB;AAEhCC,MAAAA,UAAU,EAAE;AAFoB,KAA3B,CAAT;AAIAL,IAAAA,EAAE,CAACM,aAAH,CAAiBJ,EAAjB;AACH;AACJ,CARD;;AASA,IAAIZ,YAAY,GAAG,SAAfA,YAAe,CAAUU,EAAV,EAAc;AAC7B,MAAIA,EAAE,IAAIA,EAAE,CAACO,gBAAb,EAA+B;AAC3B,WAAOP,EAAE,CAACO,gBAAH,EAAP;AACH;;AACD,SAAOhE,OAAO,CAACC,OAAR,EAAP;AACH,CALD;;AAMA,IAAI6C,SAAS,GAAG,SAAZA,SAAY,CAAUW,EAAV,EAAc;AAAE,SAAOzE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACjF,QAAIiF,OAAJ,EAAaC,SAAb;AACA,WAAOjF,WAAW,CAAC,IAAD,EAAO,UAAUqC,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACC,KAAX;AACI,aAAK,CAAL;AACI0C,UAAAA,OAAO,GAAGR,EAAV;AACA,cAAI,CAACQ,OAAL,EAAc,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACd,cAAI,EAAEA,OAAO,CAACD,gBAAR,IAA4B,IAA9B,CAAJ,EAAyC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACzC,iBAAO,CAAC;AAAE;AAAH,YAAcC,OAAO,CAACD,gBAAR,EAAd,CAAP;;AACJ,aAAK,CAAL;AACIE,UAAAA,SAAS,GAAG5C,EAAE,CAACG,IAAH,EAAZ;;AACA,cAAIyC,SAAS,IAAI,IAAjB,EAAuB;AACnB,mBAAO,CAAC;AAAE;AAAH,aAAP;AACH;;AACD5C,UAAAA,EAAE,CAACC,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcvB,OAAO,CAACgD,GAAR,CAAYmB,KAAK,CAACC,IAAN,CAAWH,OAAO,CAACI,QAAnB,EAA6BC,GAA7B,CAAiCxB,SAAjC,CAAZ,CAAd,CAAP;;AACR,aAAK,CAAL;AACIxB,UAAAA,EAAE,CAACG,IAAH;;AACAH,UAAAA,EAAE,CAACC,KAAH,GAAW,CAAX;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,WAAP;AAhBZ;AAkBH,KAnBiB,CAAlB;AAoBH,GAtB+C,CAAhB;AAsB3B,CAtBL;;AAuBA,IAAIJ,aAAa,GAAG,SAAhBA,aAAgB,CAAUsC,EAAV,EAAcc,MAAd,EAAsB;AACtC,MAAIA,MAAJ,EAAY;AACRd,IAAAA,EAAE,CAACe,YAAH,CAAgB,aAAhB,EAA+B,MAA/B;AACAf,IAAAA,EAAE,CAACzC,SAAH,CAAaC,GAAb,CAAiB,iBAAjB;AACH,GAHD,MAIK;AACDwC,IAAAA,EAAE,CAACc,MAAH,GAAY,KAAZ;AACAd,IAAAA,EAAE,CAACgB,eAAH,CAAmB,aAAnB;AACAhB,IAAAA,EAAE,CAACzC,SAAH,CAAaE,MAAb,CAAoB,iBAApB;AACH;AACJ,CAVD;;AAWA,IAAIL,SAAS,GAAG,SAAZA,SAAY,CAAUF,UAAV,EAAsBC,SAAtB,EAAiCE,SAAjC,EAA4C;AACxD,MAAIH,UAAU,KAAKgB,SAAnB,EAA8B;AAC1BhB,IAAAA,UAAU,CAAC+D,KAAX,CAAiBC,MAAjB,GAA2B7D,SAAS,KAAK,MAAf,GACpB,IADoB,GAEpB,KAFN;AAGH;;AACD,MAAIF,SAAS,KAAKe,SAAlB,EAA6B;AACzBf,IAAAA,SAAS,CAAC8D,KAAV,CAAgBC,MAAhB,GAAyB,KAAzB;AACH;AACJ,CATD;;AAUA,IAAIC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAUX,OAAV,EAAmB;AACvC,MAAIA,OAAO,CAACjD,SAAR,CAAkB6D,QAAlB,CAA2B,UAA3B,CAAJ,EAA4C;AACxC,WAAOZ,OAAP;AACH;;AACD,MAAIa,OAAO,GAAGb,OAAO,CAACc,aAAR,CAAsB,yDAAtB,CAAd;;AACA,MAAID,OAAJ,EAAa;AACT,WAAOA,OAAP;AACH,GAPsC,CAQvC;;;AACA,SAAOb,OAAP;AACH,CAVD;;AAWA,SAASnB,SAAS,IAAIkC,CAAtB,EAAyBJ,iBAAiB,IAAIK,CAA9C,EAAiDzB,SAAS,IAAI0B,CAA9D,EAAiE/D,aAAa,IAAIgE,CAAlF,EAAqFrF,UAAU,IAAIsF,CAAnG","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { w as writeTask } from './core-80bde1aa.js';\nimport { b as LIFECYCLE_WILL_LEAVE, L as LIFECYCLE_WILL_ENTER, a as LIFECYCLE_DID_ENTER, c as LIFECYCLE_DID_LEAVE } from './constants-3c3e1099.js';\nvar iosTransitionAnimation = function () { return import('./ios.transition-1850e475.js'); };\nvar mdTransitionAnimation = function () { return import('./md.transition-083fcf52.js'); };\nvar transition = function (opts) {\n    return new Promise(function (resolve, reject) {\n        writeTask(function () {\n            beforeTransition(opts);\n            runTransition(opts).then(function (result) {\n                if (result.animation) {\n                    result.animation.destroy();\n                }\n                afterTransition(opts);\n                resolve(result);\n            }, function (error) {\n                afterTransition(opts);\n                reject(error);\n            });\n        });\n    });\n};\nvar beforeTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    setZIndex(enteringEl, leavingEl, opts.direction);\n    if (opts.showGoBack) {\n        enteringEl.classList.add('can-go-back');\n    }\n    else {\n        enteringEl.classList.remove('can-go-back');\n    }\n    setPageHidden(enteringEl, false);\n    if (leavingEl) {\n        setPageHidden(leavingEl, false);\n    }\n};\nvar runTransition = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getAnimationBuilder(opts)];\n            case 1:\n                animationBuilder = _a.sent();\n                ani = (animationBuilder)\n                    ? animation(animationBuilder, opts)\n                    : noAnimation(opts);\n                return [2 /*return*/, ani];\n        }\n    });\n}); };\nvar afterTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    enteringEl.classList.remove('ion-page-invisible');\n    if (leavingEl !== undefined) {\n        leavingEl.classList.remove('ion-page-invisible');\n    }\n};\nvar getAnimationBuilder = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n                    return [2 /*return*/, undefined];\n                }\n                if (opts.animationBuilder) {\n                    return [2 /*return*/, opts.animationBuilder];\n                }\n                if (!(opts.mode === 'ios')) return [3 /*break*/, 2];\n                return [4 /*yield*/, iosTransitionAnimation()];\n            case 1:\n                _a = (_b.sent()).iosTransitionAnimation;\n                return [3 /*break*/, 4];\n            case 2: return [4 /*yield*/, mdTransitionAnimation()];\n            case 3:\n                _a = (_b.sent()).mdTransitionAnimation;\n                _b.label = 4;\n            case 4:\n                getAnimation = _a;\n                return [2 /*return*/, getAnimation];\n        }\n    });\n}); };\nvar animation = function (animationBuilder, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var trans, didComplete;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, waitForReady(opts, true)];\n            case 1:\n                _a.sent();\n                trans = animationBuilder(opts.baseEl, opts);\n                fireWillEvents(opts.enteringEl, opts.leavingEl);\n                return [4 /*yield*/, playTransition(trans, opts)];\n            case 2:\n                didComplete = _a.sent();\n                if (opts.progressCallback) {\n                    opts.progressCallback(undefined);\n                }\n                if (didComplete) {\n                    fireDidEvents(opts.enteringEl, opts.leavingEl);\n                }\n                return [2 /*return*/, {\n                        hasCompleted: didComplete,\n                        animation: trans\n                    }];\n        }\n    });\n}); };\nvar noAnimation = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                enteringEl = opts.enteringEl;\n                leavingEl = opts.leavingEl;\n                return [4 /*yield*/, waitForReady(opts, false)];\n            case 1:\n                _a.sent();\n                fireWillEvents(enteringEl, leavingEl);\n                fireDidEvents(enteringEl, leavingEl);\n                return [2 /*return*/, {\n                        hasCompleted: true\n                    }];\n        }\n    });\n}); };\nvar waitForReady = function (opts, defaultDeep) { return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n                promises = deep ? [\n                    deepReady(opts.enteringEl),\n                    deepReady(opts.leavingEl),\n                ] : [\n                    shallowReady(opts.enteringEl),\n                    shallowReady(opts.leavingEl),\n                ];\n                return [4 /*yield*/, Promise.all(promises)];\n            case 1:\n                _a.sent();\n                return [4 /*yield*/, notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n            case 2:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar notifyViewReady = function (viewIsReady, enteringEl) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!viewIsReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, viewIsReady(enteringEl)];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar playTransition = function (trans, opts) {\n    var progressCallback = opts.progressCallback;\n    var promise = new Promise(function (resolve) {\n        trans.onFinish(function (currentStep) { return resolve(currentStep === 1); });\n    });\n    // cool, let's do this, start the transition\n    if (progressCallback) {\n        // this is a swipe to go back, just get the transition progress ready\n        // kick off the swipe animation start\n        trans.progressStart(true);\n        progressCallback(trans);\n    }\n    else {\n        // only the top level transition should actually start \"play\"\n        // kick it off and let it play through\n        // ******** DOM WRITE ****************\n        trans.play();\n    }\n    // create a callback for when the animation is done\n    return promise;\n};\nvar fireWillEvents = function (enteringEl, leavingEl) {\n    lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n    lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\nvar fireDidEvents = function (enteringEl, leavingEl) {\n    lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n    lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\nvar lifecycle = function (el, eventName) {\n    if (el) {\n        var ev = new CustomEvent(eventName, {\n            bubbles: false,\n            cancelable: false,\n        });\n        el.dispatchEvent(ev);\n    }\n};\nvar shallowReady = function (el) {\n    if (el && el.componentOnReady) {\n        return el.componentOnReady();\n    }\n    return Promise.resolve();\n};\nvar deepReady = function (el) { return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                element = el;\n                if (!element) return [3 /*break*/, 4];\n                if (!(element.componentOnReady != null)) return [3 /*break*/, 2];\n                return [4 /*yield*/, element.componentOnReady()];\n            case 1:\n                stencilEl = _a.sent();\n                if (stencilEl != null) {\n                    return [2 /*return*/];\n                }\n                _a.label = 2;\n            case 2: return [4 /*yield*/, Promise.all(Array.from(element.children).map(deepReady))];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\nvar setPageHidden = function (el, hidden) {\n    if (hidden) {\n        el.setAttribute('aria-hidden', 'true');\n        el.classList.add('ion-page-hidden');\n    }\n    else {\n        el.hidden = false;\n        el.removeAttribute('aria-hidden');\n        el.classList.remove('ion-page-hidden');\n    }\n};\nvar setZIndex = function (enteringEl, leavingEl, direction) {\n    if (enteringEl !== undefined) {\n        enteringEl.style.zIndex = (direction === 'back')\n            ? '99'\n            : '101';\n    }\n    if (leavingEl !== undefined) {\n        leavingEl.style.zIndex = '100';\n    }\n};\nvar getIonPageElement = function (element) {\n    if (element.classList.contains('ion-page')) {\n        return element;\n    }\n    var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n    if (ionPage) {\n        return ionPage;\n    }\n    // idk, return the original element so at least something animates and we don't have a null pointer\n    return element;\n};\nexport { deepReady as d, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };\n"]},"metadata":{},"sourceType":"module"}